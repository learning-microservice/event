package events

import (
	"encoding/json"
	"time"
)

////////////////////////////////////////////
// ID
////////////////////////////////////////////

type ID uint

////////////////////////////////////////////
// Category
////////////////////////////////////////////

type Category string

////////////////////////////////////////////
// Tags
////////////////////////////////////////////

type (
	Tag  string
	Tags []Tag
)

func (t Tags) JSON() []byte {
	if len(t) > 0 {
		b, _ := json.Marshal(t)
		return b
	} else {
		return []byte("[]")
	}
}

////////////////////////////////////////////
// TimeSlot
////////////////////////////////////////////

type (
	TimeSlot struct {
		startAt StartAt
		endAt   EndAt
	}
	StartAt struct{ time.Time }
	EndAt   struct{ time.Time }
)

func (t TimeSlot) StartAt() StartAt {
	return t.startAt
}

func (t TimeSlot) EndAt() EndAt {
	return t.endAt
}

////////////////////////////////////////////
// PublishedAt
////////////////////////////////////////////

type PublishedAt struct{ time.Time }

////////////////////////////////////////////
// MaxAssignees
////////////////////////////////////////////

type MaxAssignees uint

////////////////////////////////////////////
// MaxAttendees
////////////////////////////////////////////

type MaxAttendees uint

////////////////////////////////////////////
// BookingDeadline
////////////////////////////////////////////

type BookingDeadline uint

////////////////////////////////////////////
// CancelDeadline
////////////////////////////////////////////

type CancelDeadline uint

////////////////////////////////////////////
// AccountID Interface
////////////////////////////////////////////

type AccountID interface {
	UID() string
}

////////////////////////////////////////////
// AssigneeID
////////////////////////////////////////////

type (
	AssigneeID  string
	AssigneeIDs []AssigneeID
)

func (aid AssigneeID) UID() string {
	return string(aid)
}

////////////////////////////////////////////
// AttendeeID
////////////////////////////////////////////

type (
	AttendeeID  string
	AttendeeIDs []AttendeeID
)

func (aid AttendeeID) UID() string {
	return string(aid)
}
